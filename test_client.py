import socket

def tcp_client(server_ip, server_port, message):
    # Bir TCP soketi oluştur
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as client_socket:
        try:
            # Sunucuya bağlan
            client_socket.connect((server_ip, server_port))
            print(f"Sunucuya bağlanıldı: {server_ip}:{server_port}")
            
            # Mesajı gönder
            client_socket.sendall(message)
            print(f"Mesaj gönderildi: {message}")
            
            # Yanıt al (isteğe bağlı)
            response = client_socket.recv(1024)
            print(f"Sunucudan yanıt alındı: {response}")
            
        except Exception as e:
            print(f"Hata: {e}")

# Kullanım örneği
if __name__ == "__main__":
    server_ip = '213.254.138.190'  # Sunucunun IP adresi
    server_port = 3636       # Sunucunun dinlediği port
    # message = b"""~\x10\x07\x00\x04\x04TP\x04R)\x00\x03@\x00\x00\x00/~~\x01\t\x00\x00\x04TP\x04R)\x00\x04s~~\x01\x12\x00\x06\x04TP\x04R)\x00\x05\x07\x00\xb4\x00\x00\x00\xdc~~\x01\x07\x00K\x04TP\x04R)\x00\x06\x00\x00\x00\x00\x00\x00\x00C5\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x89\x90\x13\x15\x00\x00TrI\x8f\x00\x1bXC1606C-C5 2024/05/31 18:49\x03\x01\x9b~~\x11\x07\x004\x04TP\x04R)\x00\x07\x148990131500005472498F\x02C5\x1bXC1606C-C5 2024/05/31 18:49g~~\x02\x00\x00\x7f\x04TP\x04R)\x00\x08\x00\x00\x00\x00\x00L\x00\x00\x02q\x81\x88\x01\xbc=a\x00\x00\x00\x00\x00\x00$\t\x11\x14AQ\x01\x04\x00\x00\x00v0\x01\x1a1\x01\x00\xe4\x02\x013\xe5\x01\x01\xe6\x01\x00\xe7\x08\x00\x00\x00\x04\x00\x00\x00\x00\xec#\xc8Z\x9f\xde\xf4H\xd9\x16FXCN]\xcd\x88\xc3\x97\xec\x89\x82\xc6\x88@;\xfa/\x8a\xb9<w\xe6uM3\xb2\xe1\x0c\x01\x1e\x00\x01\x00\x17\r\x06-\xa5\x11\x00\xf5\x01\x01\xf6\x08\x08a"0c\x96\x189\xfb\x01\x00\x88~~\x01\t\x00\x00\x04TP\x04R)\x00\t}\x02~~\x01\t\x00\x00\x04TP\x04R)\x00\rz~~\x07\x04\x00z\x04TP\x04R)\x00\x0f\x00\x01\x01\x00u\x00\x00\x00\x00\x00L\x00\x00\x02q\x81\x88\x01\xbc=a\x00\x00\x00\x00\x00\x00$\t\x11\x14B9\x01\x04\x00\x00\x00v0\x01\x1a1\x01\x00\xe4\x02\x012\xe5\x01\x01\xe6\x01\x00\xe7\x08\x00\x00\x00\x04\x00\x00\x00\x00\xec#\xc8Z\x9f\xde\xf4H\xd9\x16FXCN]\xcd\x88\xc3\x97\xec\x89\x82\xc6\x88@;\xfa/\x8a\xb9<w\xe6uM3\xb2\xe1\x0c\x01\x1e\x00\x01\x00\x17\r\x06-\xa5\x11\x00\xf5\x01\x01\xfb\x01\x00\xc5~~\x00\x02\x00\x00\x04TP\x04R)\x00\x11l~"""
    message = b'~\x02\x01\x00\x81\x04TP\x04R)\x00\x12P\xe1\x00\x00\x00\x00\x00L\x00\x00\x02q\x81\x88\x01\xbc=a\x00\x00\x00\x00\x00\x00$\t\x11\x14D3\x01\x04\x00\x00\x00v0\x01\x1b1\x01\x00\xe4\x02\x012\xe5\x01\x01\xe6\x01\x00\xe7\x08\x00\x00\x00\x04\x00\x00\x00\x00\xec#\xc8Z\x9f\xde\xf4H\xd8\x16FXCN\\\xcd\x88\xc3\x97\xec\x89\x82\xc0\x00\x1eB+\x96\xd4\xb3\x88@;\xfa/\x8a\xb1\xe1\x0c\x01\x1e\x00\x01\x00\x17\r\x06-\xa5\x11\x00\xf5\x01\x01\xf6\x08\x08a"0c\x96\x189\xfb\x01\x00\'~'

    tcp_client(server_ip, server_port, message)
